<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<f:view>
	<f:metadata>
	
		<h:outputScript library="js" name="jquery-1.8.0.min.js" />
		<h:outputScript library="js" name="utiles.js" />
		<h:outputScript library="js" name="userReportSending.js" />
<!-- 		<f:event type="preRenderView" listener="#{camundaTaskForm.startProcessInstanceByKeyForm()}" /> -->

		<f:event type="preRenderView" listener="#{camundaTaskForm.startTaskForm()}" />
	</f:metadata>
	<h:head>
		<title>Servicios TI</title>
	</h:head>
	<h:body>
		<h1>Servicios TI</h1>
		<h:form id="submitForm">
			<h:panelGrid columns="2">
				<p>
					<label for="ticketType">Tipo de incidencia</label>
					<h:selectOneMenu id="ticketType" value="#{processVariables['ticketType']}">
						<f:selectItem itemValue="Incidencia" itemLabel="incidencia" />
					</h:selectOneMenu>
				</p>
				<p>
					<label for="ticketIssue">Asunto</label>
					<!-- create process variables using the processVariables map. -->
					<h:inputText id="ticketIssue" value="#{processVariables['ticketIssue']}"
						required="true" />
				</p>
				<p>
					<label for="ticketDescription">Descripci√≥n</label>
					<!-- create process variables using the processVariables map. -->
					<h:inputTextarea id="ticketDescription" cols="30" rows="10" value="#{processVariables['ticketDescription']}"
						required="true"/>
				</p>
				<p>
					<label for="ticketAuthor">Autor</label>
					<!-- create process variables using the processVariables map. -->
					<h:inputText id="ticketAuthor" value="#{processVariables['ticketAuthor']}"
						required="true" />
				</p>
				<p>
					<h:inputHidden id="ticketId" value="some text" />
					<h:inputHidden id="ticketDate" value="some text" />
				</p>
			</h:panelGrid>

			<!-- The button starts a new process instance. This ends the conversation and redirects us to the tasklist.
     
    NOTE: Syntax is different when working on user task forms, see file "approveLoanRequest.xhtml".
    -->
			<h:button id="submit_button" value="Enviar" onclick="alerta()"
				action="#{camundaTaskForm.completeProcessInstanceForm()}" />

			<h:messages style="color:red;margin:8px;" />
		</h:form>
	</h:body>
</f:view>
</html>